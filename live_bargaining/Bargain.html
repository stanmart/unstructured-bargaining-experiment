{{ block head }}
<link rel="stylesheet" href="{{ static 'live_bargaining.css' }}">
{{ endblock }}

{{ block title }}
Make a deal
{{ endblock }}

{{ block content }}

<p>
    This is a 2-player game. A seller and a buyer are negotiating for the price of
    [insert item here].
</p>
<p>
    You are the {{ player.role }}.
    Please negotiate with the {{ other_role }} below.
</p>

<div class="section">
    <h3>Propose allocation</h2>    
    <table class="offer-table">
        <tbody>
            <tr>
                <th></th>
                <th class="offer-player-col">Player 1</th>
                <th class="offer-player-col">Player 2</th>
                <th class="offer-player-col">Player 3</th>
                <th class="offer-player-col">Player 4</th>
                <th class="offer-player-col">Player 5</th>
                <th style="text-align: right;">Total</th>
            </tr>
            <tr style="height: 3em;">
                <th class="offer-left-col">In coalition</th>
                <td class="offer-player-col"><input type="checkbox" class="coalition-member" id="is-member-1"></td>
                <td class="offer-player-col"><input type="checkbox" class="coalition-member" id="is-member-2"></td>
                <td class="offer-player-col"><input type="checkbox" class="coalition-member" id="is-member-3"></td>
                <td class="offer-player-col"><input type="checkbox" class="coalition-member" id="is-member-4"></td>
                <td class="offer-player-col"><input type="checkbox" class="coalition-member" id="is-member-5"></td>
                <td class="offer-total-col"><div class="allocation-total" id="total-shareable">0</div></td>

            </tr>
            <tr style="height: 3em;">
                <th class="offer-left-col">Allocation</th>
                <td class="offer-player-col"><input type="number" disabled="true", value="0", class="allocation" id="allocation-1"></td>
                <td class="offer-player-col"><input type="number" disabled="true", value="0", class="allocation" id="allocation-2"></td>
                <td class="offer-player-col"><input type="number" disabled="true", value="0", class="allocation" id="allocation-3"></td>
                <td class="offer-player-col"><input type="number" disabled="true", value="0", class="allocation" id="allocation-4"></td>
                <td class="offer-player-col"><input type="number" disabled="true", value="0", class="allocation" id="allocation-5"></td>
                <td class="offer-total-col"><div class="allocation-total" id="total-shared">0</div></td>
            </tr>
        </tbody>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td style="text-align: right;"><button type="button" onclick="sendOffer()" id="btn-accept" style="width: 100%">Submit</button></td>
        </tr>
    </table>
</div>

<div class="side-by-side" style="height: 500px;">

    <div class="section flex-item vertical-fill">
        <h3>Chat</h3>
        {{ chat nickname=player.role }} 
    </div>
    
    <div class="section flex-item">
        <h3>Past Offers</h4>
        <div>
            <table class="offer-table">
                <tr>
                    <th class="offer-left-col">From</th>
                    <th class="offer-id-col">ID</th>
                    <th class="offerplayer-col">P1</th>
                    <th class="offerplayer-col">P2</th>
                    <th class="offerplayer-col">P3</th>
                    <th class="offerplayer-col">P4</th>
                    <th class="offerplayer-col">P5</th>
                </tr>
            </table>
        </div>
          
        <div style="overflow: auto;">
            <table class="offer-table" id="offers-table">
            </table>
        </div>
    </div>
        
</div>


<script src="{{ static 'live_bargaining.js' }}"></script>

{{ endblock }}
